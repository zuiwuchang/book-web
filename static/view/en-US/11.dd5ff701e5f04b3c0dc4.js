(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"B4v+":function(e,t,n){"use strict";n.r(t),n.d(t,"ViewModule",function(){return ee});var a=n("ofXK"),i=n("TVeG"),r=n("tyNb"),o=n("WIkj"),l=n("1G5W"),s=n("fXoL"),d=n("NKdq"),c=n("yUmd"),p=n("tk/3"),m=n("jeCx"),h=n("jhN1"),u=n("bv9b"),v=n("W37J"),f=n("UXTw"),g=n("ebYI"),b=n("pSRx"),x=n("FWHW"),y=n("9vru"),w=n("XhcP"),S=n("MutI"),k=n("f0Cb"),E=n("obgt"),I=n("Cvm2");function C(e,t){if(1&e&&s["\u0275\u0275element"](0,"ng-adsense",1),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("adClient","ca-pub-"+e.ads.id)("adSlot",e.ads.slot)("display",e.display)("adFormat",e.adFormat)("className",e.className)("fullWidthResponsive",e.fullWidthResponsive)("layout",e.layout)("pageLevelAds",e.pageLevelAds)}}let j=(()=>{class e{constructor(){this.ok=!1}ngOnInit(){}set ads(e){this.ads_=e,this.ok=Object(b.b)(e)}get ads(){return this.ads_}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["shared-ads"]],inputs:{ads:"ads",display:"display",adFormat:"adFormat",adtest:"adtest",className:"className",fullWidthResponsive:"fullWidthResponsive",layout:"layout",pageLevelAds:"pageLevelAds"},decls:1,vars:1,consts:[[3,"adClient","adSlot","display","adFormat","className","fullWidthResponsive","layout","pageLevelAds",4,"ngIf"],[3,"adClient","adSlot","display","adFormat","className","fullWidthResponsive","layout","pageLevelAds"]],template:function(e,t){1&e&&s["\u0275\u0275template"](0,C,1,8,"ng-adsense",0),2&e&&s["\u0275\u0275property"]("ngIf",t.ok)},directives:[a.k,I.a],styles:[""]}),e})();var O=n("GURL"),R=n("bTqV"),_=n("NFeN");const L=["view"],F=["btnClipboard"],N=function(e,t){return["/view",e,t]};function W(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"a",3),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction2"](2,N,null==n.book?null:n.book.id,e.id)),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](e.name)}}function M(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"a",17),s["\u0275\u0275elementStart"](1,"button",18),s["\u0275\u0275elementStart"](2,"mat-icon"),s["\u0275\u0275text"](3,"navigate_before"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction2"](2,N,e.previous.book,e.previous.chapter)),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate1"](" ",e.previous.name," ")}}function T(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"a",17),s["\u0275\u0275elementStart"](1,"button",19),s["\u0275\u0275text"](2),s["\u0275\u0275elementStart"](3,"mat-icon"),s["\u0275\u0275text"](4,"navigate_next"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction2"](2,N,e.next.book,e.next.chapter)),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",e.next.name," ")}}function A(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275element"](1,"shared-ads",11),s["\u0275\u0275element"](2,"section",20),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,a=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ads",a.getAds(n,a.markdown.HTMLS.length))("display","inline-block")("adFormat","auto")("fullWidthResponsive",!0)("className","ads"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("innerHtml",e,s["\u0275\u0275sanitizeHtml"])}}function P(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"a",17),s["\u0275\u0275elementStart"](1,"button",18),s["\u0275\u0275elementStart"](2,"mat-icon"),s["\u0275\u0275text"](3,"navigate_before"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction2"](2,N,e.previous.book,e.previous.chapter)),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate1"](" ",e.previous.name," ")}}function V(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"a",17),s["\u0275\u0275elementStart"](1,"button",19),s["\u0275\u0275text"](2),s["\u0275\u0275elementStart"](3,"mat-icon"),s["\u0275\u0275text"](4,"navigate_next"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction2"](2,N,e.next.book,e.next.chapter)),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",e.next.name," ")}}function H(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",7),s["\u0275\u0275template"](1,P,5,5,"a",8),s["\u0275\u0275elementStart"](2,"div",9),s["\u0275\u0275elementStart"](3,"div",10),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](5,V,5,5,"a",8),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.previous),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](e.title),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.next)}}const q=function(e){return["/view",e,"0"]};class J{constructor(e,t,n){this.book=e,this.chapter=t,this.name=n}}let Q=(()=>{class e{constructor(e,t,n,a,i,r,l){this.settingsService=e,this.i18nService=t,this.domSanitizer=n,this.highlightJsService=a,this.toasterService=i,this.router=r,this.adsService=l,this.text=!1,this.closed_=new o.a,this.chapter=!1,this.header=!1,this.update_=!1}set loader(e){const t=e.opened,n=e.book;this.book=n;const a=e.text;this.title=e.title,Object(g.isString)(a)&&a.length>0&&(this.text=!0),Object(o.b)("showdown").then(e=>{this.markdown=new v.a(e,this.domSanitizer,t.book,t.chapter,a,!0),this._initNavigate(n,t.chapter),this.update_=!0})}ngOnInit(){this.adsService.ready.then(e=>{this.adSene=e}),this.settingsService.chapterObservable.pipe(Object(l.a)(this.closed_.observable)).subscribe(e=>{this.chapter=e}),this.settingsService.headerObservable.pipe(Object(l.a)(this.closed_.observable)).subscribe(e=>{this.header=e})}ngOnDestroy(){this.closed_.close(),this.clipboard&&this.clipboard.destroy(),this.elementRef.nativeElement&&$(this.elementRef.nativeElement).undelegate(".ng-router-a","click")}_initNavigate(e,t){if(e&&e.chapter&&0!=e.chapter.length)if(this.previous=null,this.next=null,"0"!=t){for(let n=0;n<e.chapter.length;n++)if(e.chapter[n].id==t){this.previous=0==n?new J(e.id,"0",e.name):new J(e.id,e.chapter[n-1].id,e.chapter[n-1].name),n+1<e.chapter.length&&(this.next=new J(e.id,e.chapter[n+1].id,e.chapter[n+1].name));break}}else this.next=new J(e.id,e.chapter[0].id,e.chapter[0].name)}onChange(e){if(!this.elementRef||!this.elementRef.nativeElement)return;const t=this.elementRef.nativeElement.querySelector("#"+e);t&&window.scroll({top:t.offsetTop,behavior:"smooth"})}ngAfterViewInit(){Object(o.b)("clipboard").then(e=>{this.clipboard=new e(this.btnClipboard.nativeElement).on("success",()=>{this.toasterService.pop("info","",this.i18nService.get("copyied"))}).on("error",e=>{console.error("Action:",e.action),console.error("Trigger:",e.trigger)})}),$(this.elementRef.nativeElement).delegate(".ng-router-a","click",e=>{const t=$(e.target).attr("href");return!!t.startsWith("/book/assets")||(this.router.navigate([t]),!1)})}ngAfterViewChecked(){if(!this.update_)return;this.update_=!1;const e=this.elementRef.nativeElement.querySelectorAll("code");if(e&&0!=e.length)for(let t=0;t<e.length;t++){const n=e[t];this.highlightJsService.highlight(n),!n.parentElement||"pre"!=n.parentElement.tagName&&"PRE"!=n.parentElement.tagName||this.createClipboard(n.parentElement,n)}Object(f.a)()}createClipboard(e,t){e.classList.add("code-view");const n=document.createElement("i");n.classList.add("fas"),n.classList.add("fa-copy"),n.classList.add("clipboard"),n.onclick=()=>{this.btnClipboard.nativeElement.setAttribute("data-clipboard-text",$(t).text().replace(/\xa0/g," ").trim()),this.btnClipboard.nativeElement.click()},t.appendChild(n)}getAds(e,t){if(!this.adSene||!Object(b.b)(this.adSene.text))return null;if(0==e||e+1==t)return null;if(e+1==t&&Object(b.b)(this.adSene.bottom))return null;let n=this.adSene.text.frequency;return!Object(g.isNumber)(n)||isNaN(n)||n<1?null:(n=Math.floor(n),e%n==0?this.adSene.text:null)}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](d.b),s["\u0275\u0275directiveInject"](m.a),s["\u0275\u0275directiveInject"](h.b),s["\u0275\u0275directiveInject"](x.HighlightJsService),s["\u0275\u0275directiveInject"](y.d),s["\u0275\u0275directiveInject"](r.c),s["\u0275\u0275directiveInject"](b.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["markdown-markdown-view"]],viewQuery:function(e,t){if(1&e&&(s["\u0275\u0275viewQuery"](L,1),s["\u0275\u0275viewQuery"](F,1)),2&e){let e;s["\u0275\u0275queryRefresh"](e=s["\u0275\u0275loadQuery"]())&&(t.elementRef=e.first),s["\u0275\u0275queryRefresh"](e=s["\u0275\u0275loadQuery"]())&&(t.btnClipboard=e.first)}},inputs:{loader:"loader"},decls:27,vars:29,consts:[["data-clipboard-text","",1,"hide"],["btnClipboard",""],["mode","side",1,"sidenav-left",3,"opened"],["mat-list-item","",3,"routerLink"],["mat-list-item","",3,"routerLink",4,"ngFor","ngForOf"],["mode","side","position","end",1,"sidenav-right",3,"opened"],[3,"items","valChange"],[1,"navigate-view"],[3,"routerLink",4,"ngIf"],[1,"navigate-fill"],[1,"title"],[3,"ads","display","adFormat","fullWidthResponsive","className"],[1,"markdown"],["view",""],[4,"ngFor","ngForOf"],["class","navigate-view",4,"ngIf"],[3,"ads"],[3,"routerLink"],["mat-button","",1,"previous","no-outline"],["mat-button","",1,"next","no-outline"],["highlight-js-content","code",3,"innerHtml"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"button",0,1),s["\u0275\u0275text"](2,"copy"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"mat-drawer-container"),s["\u0275\u0275elementStart"](4,"mat-drawer",2),s["\u0275\u0275elementStart"](5,"mat-nav-list"),s["\u0275\u0275elementStart"](6,"a",3),s["\u0275\u0275text"](7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](8,"mat-divider"),s["\u0275\u0275template"](9,W,2,5,"a",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"mat-drawer",5),s["\u0275\u0275elementStart"](11,"markdown-bar",6),s["\u0275\u0275listener"]("valChange",function(e){return t.onChange(e)}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"mat-drawer-content"),s["\u0275\u0275elementStart"](13,"div",7),s["\u0275\u0275template"](14,M,5,5,"a",8),s["\u0275\u0275elementStart"](15,"div",9),s["\u0275\u0275elementStart"](16,"div",10),s["\u0275\u0275text"](17),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](18,T,5,5,"a",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](19,"shared-ads",11),s["\u0275\u0275elementStart"](20,"div",12,13),s["\u0275\u0275template"](22,A,3,6,"div",14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](23,"shared-ads",11),s["\u0275\u0275template"](24,H,6,3,"div",15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](25,"shared-ads",11),s["\u0275\u0275element"](26,"shared-ads-auto",16)),2&e&&(s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("opened",t.chapter),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction1"](27,q,null==t.book?null:t.book.id)),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](null==t.book?null:t.book.name),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",null==t.book?null:t.book.chapter),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("opened",t.header),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("items",null==t.markdown?null:t.markdown.Header),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",t.previous),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](t.title),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.next),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ads",null==t.adSene?null:t.adSene.top)("display","inline-block")("adFormat","auto")("fullWidthResponsive",!0)("className","ads"),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngForOf",null==t.markdown?null:t.markdown.HTMLS),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ads",null==t.adSene?null:t.adSene.bottom)("display","inline-block")("adFormat","auto")("fullWidthResponsive",!0)("className","ads"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.text&&t.markdown&&t.markdown.HTML),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ads",null==t.adSene?null:t.adSene.top)("display","inline-block")("adFormat","auto")("fullWidthResponsive",!0)("className","ads"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ads",null==t.adSene?null:t.adSene.auto))},directives:[w.b,w.a,S.e,S.c,r.d,k.a,a.j,E.a,w.c,a.k,j,O.a,R.a,_.a],styles:[".sidenav-right[_ngcontent-%COMP%]{padding-right:16px}.sidenav-left[_ngcontent-%COMP%], .sidenav-right[_ngcontent-%COMP%]{position:fixed;top:64px;bottom:0;min-width:150px}.sidenav-left[_ngcontent-%COMP%]{left:0;background-color:#fafafa;box-shadow:6px 0 6px #0000001a}.navigate-view[_ngcontent-%COMP%]{display:flex}.navigate-fill[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;align-items:center;align-content:center}.title[_ngcontent-%COMP%]{text-align:center;width:100%}"]}),e})();function X(e,t){1&e&&s["\u0275\u0275elementContainer"](0)}function z(e,t){1&e&&s["\u0275\u0275element"](0,"mat-progress-bar",5)}function D(e,t){1&e&&s["\u0275\u0275elementContainer"](0)}function G(e,t){if(1&e&&s["\u0275\u0275template"](0,D,1,0,"ng-container",0),2&e){const e=s["\u0275\u0275nextContext"](),t=s["\u0275\u0275reference"](6),n=s["\u0275\u0275reference"](8);s["\u0275\u0275property"]("ngIf",e.error)("ngIfThen",t)("ngIfElse",n)}}function U(e,t){if(1&e&&s["\u0275\u0275text"](0),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275textInterpolate1"](" ",e.error,"\n")}}function K(e,t){if(1&e&&s["\u0275\u0275element"](0,"markdown-markdown-view",6),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("loader",e.loader)}}let B=(()=>{class e{constructor(e,t,n,a){this.httpClient=e,this.i18nService=t,this.title=n,this.settingsService=a,this.loading=!1,this.closed_=new o.a}ngOnInit(){this.settingsService.openedObservable.pipe(Object(l.a)(this.closed_.observable)).subscribe(e=>{this.title.setTitle(this.i18nService.get("Loading"));const t=new c.a(e);this.loader=t,this.loading=!0,t.load(this.httpClient).then(e=>{this.loader==t&&(this.title.setTitle(e),this.settingsService.nextViewPage(),this.loading=!1)},e=>{this.loader==t&&(this.loader=null,this.title.setTitle(this.i18nService.get("Error")),this.error=e,this.loading=!1)})})}ngOnDestroy(){this.closed_.close(),this.settingsService.closeViewPage()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](p.b),s["\u0275\u0275directiveInject"](m.a),s["\u0275\u0275directiveInject"](h.c),s["\u0275\u0275directiveInject"](d.b))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["markdown-view"]],decls:9,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["loadingView",""],["readyView",""],["errorView",""],["okView",""],["mode","indeterminate"],[3,"loader"]],template:function(e,t){if(1&e&&(s["\u0275\u0275template"](0,X,1,0,"ng-container",0),s["\u0275\u0275template"](1,z,1,0,"ng-template",null,1,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](3,G,1,3,"ng-template",null,2,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](5,U,1,1,"ng-template",null,3,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](7,K,1,1,"ng-template",null,4,s["\u0275\u0275templateRefExtractor"])),2&e){const e=s["\u0275\u0275reference"](2),n=s["\u0275\u0275reference"](4);s["\u0275\u0275property"]("ngIf",t.loading)("ngIfThen",e)("ngIfElse",n)}},directives:[a.k,u.a,Q],styles:[""]}),e})();const Y=[{path:":book/:chapter",component:(()=>{class e{constructor(e,t){this.activatedRoute=e,this.settingsService=t,this.closed_=new o.a}ngOnInit(){this.activatedRoute.params.pipe(Object(l.a)(this.closed_.observable)).subscribe(e=>{e&&this.settingsService.open(e.book,e.chapter)},e=>{console.warn(e)})}ngOnDestroy(){this.closed_.close()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](r.a),s["\u0275\u0275directiveInject"](d.b))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-view"]],decls:1,vars:0,template:function(e,t){1&e&&s["\u0275\u0275element"](0,"markdown-view")},directives:[B],styles:[""]}),e})()}];let Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[r.e.forChild(Y)],r.e]}),e})(),ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[a.c,i.a,Z]]}),e})()}}]);