(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{lXdu:function(e,t,n){"use strict";n.r(t),n.d(t,"BooksModule",function(){return F});var a=n("ofXK"),i=n("3Pt+"),l=n("tyNb"),o=n("w5zv"),d=n("0IaG"),r=n("fXoL"),c=n("kmnG"),s=n("qFsG"),m=n("chBE"),f=n("bTqV");let b=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t}ngOnInit(){}onCancel(){this.dialogRef.close()}onSure(){this.dialogRef.close(this.data)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](d.f),r["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-new"]],decls:16,vars:3,consts:function(){let e,t,n,a,i,l;return e="New book",t="Please enter the book name",n="Please enter the book id",a="invalid id",i="Sure",l="Cancel",[[3,"submit"],["form","ngForm"],["mat-dialog-title",""],e,["mat-dialog-content",""],[1,"full-width"],["matInput","","required","","placeholder",t,"name","name",3,"ngModel","ngModelChange"],["matInput","","required","","sharedValidatorId","","placeholder",n,"name","id",3,"ngModel","ngModelChange"],a,["mat-dialog-actions",""],["type","submit","mat-button","",3,"disabled"],i,["type","button","mat-button","",3,"click"],l]},template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"form",0,1),r["\u0275\u0275listener"]("submit",function(){return t.onSure()}),r["\u0275\u0275elementStart"](2,"h1",2),r["\u0275\u0275i18n"](3,3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"div",4),r["\u0275\u0275elementStart"](5,"mat-form-field",5),r["\u0275\u0275elementStart"](6,"input",6),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.data.name=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"mat-form-field",5),r["\u0275\u0275elementStart"](8,"input",7),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.data.id=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"mat-error"),r["\u0275\u0275i18n"](10,8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"div",9),r["\u0275\u0275elementStart"](12,"button",10),r["\u0275\u0275i18n"](13,11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"button",12),r["\u0275\u0275listener"]("click",function(){return t.onCancel()}),r["\u0275\u0275i18n"](15,13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("ngModel",t.data.name),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngModel",t.data.id),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("disabled",e.invalid)}},directives:[i.n,i.j,i.k,c.c,s.a,i.b,i.m,i.i,i.l,m.a,c.b,f.b],styles:[".view[_ngcontent-%COMP%]{display:flex}.field[_ngcontent-%COMP%]{flex:1 1 auto;padding-right:16px}"]}),e})(),u=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t}ngOnInit(){}onCancel(){this.dialogRef.close()}onSure(){this.dialogRef.close(this.data.val)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](d.f),r["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-rename"]],decls:12,vars:2,consts:function(){let e,t,n,a;return e="Rename",t="Please enter the book name",n="Sure",a="Cancel",[[3,"submit"],["form","ngForm"],["mat-dialog-title",""],e,["mat-dialog-content",""],[1,"full-width"],["matInput","","required","","placeholder",t,"name","name",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["type","submit","mat-button","",3,"disabled"],n,["type","button","mat-button","",3,"click"],a]},template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"form",0,1),r["\u0275\u0275listener"]("submit",function(){return t.onSure()}),r["\u0275\u0275elementStart"](2,"h1",2),r["\u0275\u0275i18n"](3,3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"div",4),r["\u0275\u0275elementStart"](5,"mat-form-field",5),r["\u0275\u0275elementStart"](6,"input",6),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.data.val=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"div",7),r["\u0275\u0275elementStart"](8,"button",8),r["\u0275\u0275i18n"](9,9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"button",10),r["\u0275\u0275listener"]("click",function(){return t.onCancel()}),r["\u0275\u0275i18n"](11,11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("ngModel",t.data.val),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",e.invalid)}},directives:[i.n,i.j,i.k,c.c,s.a,i.b,i.m,i.i,i.l,f.b],styles:[""]}),e})();var p=n("ebYI");let h=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t}ngOnInit(){}onCancel(){this.dialogRef.close()}onSure(){this.dialogRef.close(this.data.val)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](d.f),r["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-id"]],decls:12,vars:2,consts:function(){let e,t,n,a;return e="Rename",t="Please enter the book name",n="Sure",a="Cancel",[[3,"submit"],["form","ngForm"],["mat-dialog-title",""],e,["mat-dialog-content",""],[1,"full-width"],["matInput","","required","","sharedValidatorId","","placeholder",t,"name","name",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["type","submit","mat-button","",3,"disabled"],n,["type","button","mat-button","",3,"click"],a]},template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"form",0,1),r["\u0275\u0275listener"]("submit",function(){return t.onSure()}),r["\u0275\u0275elementStart"](2,"h1",2),r["\u0275\u0275i18n"](3,3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"div",4),r["\u0275\u0275elementStart"](5,"mat-form-field",5),r["\u0275\u0275elementStart"](6,"input",6),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.data.val=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"div",7),r["\u0275\u0275elementStart"](8,"button",8),r["\u0275\u0275i18n"](9,9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"button",10),r["\u0275\u0275listener"]("click",function(){return t.onCancel()}),r["\u0275\u0275i18n"](11,11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("ngModel",t.data.val),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",e.invalid)}},directives:[i.n,i.j,i.k,c.c,s.a,i.b,i.m,m.a,i.i,i.l,f.b],styles:[""]}),e})(),v=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t}ngOnInit(){}onCancel(){this.dialogRef.close()}onSure(){this.dialogRef.close(!0)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](d.f),r["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-remove"]],decls:12,vars:2,consts:function(){let e,t,n,a;return e="Delete book",t="The book deletion cannot be recovered. Are you sure you want to delete \"" + "\ufffd0\ufffd" + "\"?",n="Sure",a="Cancel",[[3,"submit"],["form","ngForm"],["mat-dialog-title",""],e,["mat-dialog-content",""],t,["mat-dialog-actions",""],["type","submit","mat-button","",3,"disabled"],n,["type","button","cdkFocusInitial","","mat-button","",3,"click"],a]},template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"form",0,1),r["\u0275\u0275listener"]("submit",function(){return t.onSure()}),r["\u0275\u0275elementStart"](2,"h1",2),r["\u0275\u0275i18n"](3,3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"p",4),r["\u0275\u0275elementContainerStart"](5),r["\u0275\u0275i18n"](6,5),r["\u0275\u0275elementContainerEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"div",6),r["\u0275\u0275elementStart"](8,"button",7),r["\u0275\u0275i18n"](9,8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"button",9),r["\u0275\u0275listener"]("click",function(){return t.onCancel()}),r["\u0275\u0275i18n"](11,10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](6),r["\u0275\u0275i18nExp"](t.data.name),r["\u0275\u0275i18nApply"](6),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",e.invalid)}},directives:[i.n,i.j,i.k,f.b],styles:[""]}),e})();var g=n("jhN1"),S=n("jeCx"),k=n("9vru"),C=n("tk/3");let E=(()=>{class e{constructor(){this.match=new RegExp("^[a-zA-Z][a-zA-Z0-9-]*$")}validate(e){let t=e.value;return null==t||""==t||null==t||this.match.test(t)?null:{errBookFind:{value:e.value}}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","sharedValidatorBookFind",""]],features:[r["\u0275\u0275ProvidersFeature"]([{provide:i.f,useExisting:e,multi:!0}])]}),e})();var I=n("MutI"),y=n("bv9b"),x=n("NFeN"),w=n("FKr1"),M=n("Qu3c");function $(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"p"),r["\u0275\u0275element"](1,"mat-progress-bar",12),r["\u0275\u0275elementEnd"]())}function z(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",19),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]().$implicit;return r["\u0275\u0275nextContext"]().onClickChangeID(t)}),r["\u0275\u0275elementStart"](1,"mat-icon"),r["\u0275\u0275text"](2,"timeline"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("disabled",e.disabled)}}function j(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",20),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]().$implicit;return r["\u0275\u0275nextContext"]().onClickRemove(t)}),r["\u0275\u0275elementStart"](1,"mat-icon"),r["\u0275\u0275text"](2,"delete"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("disabled",e.disabled)}}function R(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mat-list-item"),r["\u0275\u0275elementStart"](1,"mat-icon",13),r["\u0275\u0275text"](2,"book"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"p",14),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"a",15),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"a",15),r["\u0275\u0275text"](8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"button",16),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"]().onClickRename(n)}),r["\u0275\u0275elementStart"](10,"mat-icon"),r["\u0275\u0275text"](11,"create"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](12,z,3,1,"button",17),r["\u0275\u0275template"](13,j,3,1,"button",18),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](e.name),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate1"]("routerLink","/view/",e.id,"/0"),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("view/",e.id,""),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate1"]("routerLink","/edit/",e.id,"/0"),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("edit/",e.id,""),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("disabled",n.disabled),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf","home"!=e.id),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf","home"!=e.id)}}const N=[{path:"",component:(()=>{class e{constructor(e,t,n,a,i){this.title=e,this.i18nService=t,this.toasterService=n,this.httpClient=a,this.matDialog=i,this.bookID="",this.bookName="",this.items=null}ngOnInit(){this.title.setTitle(this.i18nService.get("Books Management"))}onSubmit(){this.disabled||(this.disabled=!0,this.items=null,o.a.v1.books.get(this.httpClient,{params:{id:this.bookID,name:this.bookName}}).then(e=>{this.items=e},e=>{this.toasterService.pop("error",void 0,e)}).finally(()=>{this.disabled=!1}))}onClickNew(){this.disabled||this.matDialog.open(b,{width:"80%",maxWidth:800,data:{id:"",name:""}}).afterClosed().subscribe(e=>{e&&!this.disabled&&this._new(e.id,e.name)})}_new(e,t){this.disabled=!0,o.a.v1.books.post(this.httpClient,{id:e,name:t}).then(()=>{const n={id:e,name:t};this.items?this.items.push(n):this.items=[n]},e=>{this.toasterService.pop("error",void 0,e)}).finally(()=>{this.disabled=!1})}onClickRename(e){this.disabled||this.matDialog.open(u,{width:"80%",maxWidth:800,data:{val:e.name}}).afterClosed().subscribe(t=>{!this.disabled&&Object(p.isString)(t)&&t!=e.name&&this._rename(e,t)})}_rename(e,t){this.disabled=!0,o.a.v1.books.patch(this.httpClient,"name",{id:e.id,name:t}).then(()=>{e.name=t},e=>{this.toasterService.pop("error",void 0,e)}).finally(()=>{this.disabled=!1})}onClickChangeID(e){this.disabled||this.matDialog.open(h,{width:"80%",maxWidth:800,data:{val:e.id}}).afterClosed().subscribe(t=>{!this.disabled&&Object(p.isString)(t)&&t!=e.id&&this._changeID(e,t)})}_changeID(e,t){this.disabled=!0,o.a.v1.books.patch(this.httpClient,"id",{id:e.id,target:t}).then(()=>{e.id=t},e=>{this.toasterService.pop("error",void 0,e)}).finally(()=>{this.disabled=!1})}onClickRemove(e){this.disabled||this.matDialog.open(v,{width:"80%",maxWidth:800,data:e}).afterClosed().subscribe(t=>{!this.disabled&&t&&this._remove(e)})}_remove(e){this.disabled=!0,o.a.v1.books.delete(this.httpClient,{params:{id:e.id}}).then(()=>{const t=this.items.indexOf(e);-1!=t&&this.items.splice(t,1)},e=>{this.toasterService.pop("error",void 0,e)}).finally(()=>{this.disabled=!1})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](g.c),r["\u0275\u0275directiveInject"](S.a),r["\u0275\u0275directiveInject"](k.d),r["\u0275\u0275directiveInject"](C.b),r["\u0275\u0275directiveInject"](d.b))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-books"]],decls:15,vars:8,consts:function(){let e,t,n,a,i,l,o,d;return e="Please enter the book name",t="Please enter the book id",n="invalid id",a="Search",i="New",l="Rename",o="Change ID",d="Remove",[[1,"search",3,"submit"],["form","ngForm"],[1,"field"],["matInput","","placeholder",e,"name","id",3,"disabled","ngModel","ngModelChange"],["matInput","","sharedValidatorBookFind","","placeholder",t,"name","name",3,"disabled","ngModel","ngModelChange"],n,["mat-button","",3,"disabled"],a,["type","button","mat-button","",3,"disabled","click"],i,[4,"ngIf"],[4,"ngFor","ngForOf"],["mode","indeterminate"],["matListAvatar","","color","primary"],["matLine",""],["matLine","",3,"routerLink"],["mat-icon-button","","matTooltip",l,3,"disabled","click"],["mat-icon-button","","matTooltip",o,3,"disabled","click",4,"ngIf"],["mat-icon-button","","matTooltip",d,3,"disabled","click",4,"ngIf"],["mat-icon-button","","matTooltip",o,3,"disabled","click"],["mat-icon-button","","matTooltip",d,3,"disabled","click"]]},template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"form",0,1),r["\u0275\u0275listener"]("submit",function(){return t.onSubmit()}),r["\u0275\u0275elementStart"](2,"mat-form-field",2),r["\u0275\u0275elementStart"](3,"input",3),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.bookName=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"mat-form-field",2),r["\u0275\u0275elementStart"](5,"input",4),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.bookID=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"mat-error"),r["\u0275\u0275i18n"](7,5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"button",6),r["\u0275\u0275i18n"](9,7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"button",8),r["\u0275\u0275listener"]("click",function(){return t.onClickNew()}),r["\u0275\u0275i18n"](11,9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](12,$,2,0,"p",10),r["\u0275\u0275elementStart"](13,"mat-list"),r["\u0275\u0275template"](14,R,14,8,"mat-list-item",11),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("disabled",t.disabled)("ngModel",t.bookName),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",t.disabled)("ngModel",t.bookID),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("disabled",t.disabled||e.invalid),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",t.disabled),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.disabled),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.items)}},directives:[i.n,i.j,i.k,c.c,s.a,i.b,i.i,i.l,E,c.b,f.b,a.k,I.a,a.j,y.a,I.c,x.a,I.b,w.e,l.d,M.a],styles:[".search[_ngcontent-%COMP%]{display:flex}.field[_ngcontent-%COMP%]{flex:1 1 auto;padding-right:16px}"]}),e})()}];let B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[l.e.forChild(N)],l.e]}),e})();var D=n("PCNd");let F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[a.c,i.d,D.a,y.b,c.e,s.b,f.c,I.d,x.b,M.b,B]]}),e})()}}]);